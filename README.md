# САМОСВАЛ - CI/CD Платформа

Информационная система для упрощения развёртывания микросервисов внутри компании.

## Возможности

### Для разработчиков:
- Создание заявок на развёртывание сервисов
- Указание Git репозитория, ветки, базового Docker образа
- Ввод команд RUN и ENTRYPOINT для сборки
- Просмотр статуса сборок
- Управление развёртываниями (запуск, остановка, обновление, перезагрузка)

### Для операторов:
- Управление заявками на создание образов
- Обновление образов
- Управление развёртываниями
- Просмотр метрик и логов
- Просмотр всех развёртываний образа

### Для администраторов:
- Просмотр аудита действий
- Управление пользователями (добавление, блокировка, разблокировка)

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Запустите сервер:
```bash
python app.py
```

3. Откройте браузер и перейдите на http://localhost:5000

## Тестовые аккаунты

- **Администратор**: admin / admin123
- **Оператор**: operator / operator123
- **Разработчик**: developer / developer123

## Структура проекта

```
samosval/
├── app.py              # Flask приложение с API и моделями данных
├── requirements.txt    # Зависимости Python
├── README.md          # Документация
├── .gitignore        # Игнорируемые файлы
└── static/           # Статические файлы фронтенда
    ├── index.html    # Главная страница
    ├── css/
    │   └── style.css # Стили
    └── js/
        └── app.js    # JavaScript логика
```

## Особенности реализации

- **База данных**: SQLite (файл samosval.db создаётся автоматически)
- **Автоматическая генерация Dockerfile**: При одобрении заявки оператором автоматически генерируется Dockerfile с клонированием репозитория
- **Роли пользователей**: developer, operator, admin с разными правами доступа
- **Аудит**: Все действия пользователей логируются в таблицу AuditLog
- **Метрики**: Операторы могут видеть статистику по заявкам, образам и развёртываниям

## Примечание

На данный момент реализована показательная часть системы. Фактические операции с Docker (сборка образов, запуск контейнеров) не выполняются, но вся логика управления и интерфейс полностью функциональны.
